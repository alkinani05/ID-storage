# ðŸš€ Quick Deployment Reference

## Pre-Deployment
```bash
# Verify everything is ready
./verify-deployment.sh

# Test builds locally
cd server && npm run build && cd ..
cd client && npm run build && cd ..
```

## Railway Environment Variables

### Backend Service
```bash
DATABASE_URL=<auto-generated-by-railway>
JWT_SECRET=<your-secure-random-string-min-32-chars>
PORT=3001
CORS_ORIGIN=https://your-frontend.railway.app
OPENAI_API_KEY=<optional-for-ai-features>
```

### Frontend Service
```bash
NEXT_PUBLIC_API_URL=https://your-backend.railway.app
NEXT_PUBLIC_MAX_FILE_SIZE=10485760
```

## Health Check Commands
```bash
# Backend health
curl https://your-backend.railway.app/health

# Expected: {"status":"ok","timestamp":"2025-12-28T..."}

# Frontend health
curl https://your-frontend.railway.app

# Expected: HTML response (200 OK)
```

## Common Fixes

### Fix CORS Error
```bash
# In Railway Backend Variables:
CORS_ORIGIN=https://your-frontend.railway.app

# Then redeploy backend
```

### Fix API Connection
```bash
# In Railway Frontend Variables:
NEXT_PUBLIC_API_URL=https://your-backend.railway.app

# Then redeploy frontend (IMPORTANT!)
```

### Check Logs
```bash
# In Railway Dashboard:
Service â†’ Deployments â†’ Latest â†’ View Logs
```

## Deployment Order
1. PostgreSQL Database
2. Backend (/server)
3. Frontend (/client)
4. Update Backend CORS
5. Test Everything

## Success Checklist
- [ ] Health endpoint returns 200
- [ ] Frontend loads
- [ ] Can register user
- [ ] Can login
- [ ] Can upload document
- [ ] OCR works
- [ ] No CORS errors

## Emergency Rollback
Railway Dashboard â†’ Service â†’ Deployments â†’ Previous â†’ Redeploy
